## Проверка работоспособности

### Предварительная подготовка
-   Заходим в папку `src`
-   Заходим в папку с сервером и билдим сервер `cd server && go build && cd ../`
-   Заходим в папку с клиентом и билдим клиента `cd warehouse-cli && go build && cd ../`

### Последовательность действий для тестирования
1.  Запускаем последовательно три сервера в трех терминалах
    -   `./server/server -P 8765`
    -   `./server/server -P 9876`
    -   `./server/server -P 8697`
2.  В четвертом терминале запускаем клиента
    -   `./warehouse-cli/warehouse-cli -H 127.0.0.1 -P 8765`
    -   Ответ:
    ```
    Connected to a database of Warehouse 13 at 127.0.0.1:8765
    Known nodes:
    127.0.0.1:8765
    127.0.0.1:9876
    127.0.0.1:8697
    > 
    ```
3.  Отправляем запросы
-   `SET 12345 '{"name": "Chapayev's Mustache comb"}'`
-   Ответ:
    ```
    Error: Key is not a proper UUID4
    > 
    ```
-   `SET 0d5d3807-5fbf-4228-a657-5a091c4e497f '{"name": "Chapayev's Mustache comb"}'`
-   Ответ:
    ```
    Created (2 replicas)
    > 
    ```
-   `GET 0d5d3807-5fbf-4228-a657-5a091c4e497f`
-   Ответ:
    ```
    '{"name": "Chapayev's Mustache comb"}'
    > 
    ```
- `DELETE 0d5d3807-5fbf-4228-a657-5a091c4e497f`
- Ответ:
    ```
    Deleted (2 replicas)
    > 
    ```
-   `GET 0d5d3807-5fbf-4228-a657-5a091c4e497f`
-   Ответ:
    ```
    Not found
    > 
    ```
-   Убиваем сервер к которому подключен клиент (на порту 8765)
-   Ответ:
    ```
    Reconnected to a database of Warehouse 13 at 127.0.0.1:9876
    Known nodes:
    127.0.0.1:9876
    127.0.0.1:8697
    > 
    ```
-   Убиваем сервер к которому теперь подключен клиент (на порту 9876)
-   Ответ:
    ```
    Reconnected to a database of Warehouse 13 at 127.0.0.1:8697
    Known nodes:
    127.0.0.1:8697
    WARNING: cluster size (1) is smaller than a replication factor (2)!
    > 
    ```
-   Убиваем последний живой сервер
-   Клиент прекращает работу c логгированием
    ```
    All servers is down
    ```

## Проверка работы с базой
-   Снова запускаем серверы и клиента
-   Из файла `test.txt` делаем SET-запросы на добавление нескольких записей
-   Убиваем сервер-лидер(текущее подключение клиента)
-   Делаем GET-запросы для получения данных из базы
-   Убиваем еще один сервер
-   Делаем любые запросы к оставшемуся серверу
-   Запускаем любой из ранее остановленных серверов
-   Убиваем текущий сервер к которому был подключен клиент
-   Снова проверяем GET-запросами, что база жива
-   Убиваем последний работающий сервер
